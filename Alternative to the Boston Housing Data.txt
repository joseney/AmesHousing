Journal of Statistics Education, Volume 19, Número 3 (2011)
                                                      Journal of Statistics Education
Ames, Iowa: Alternative to the Boston Housing Data as an End of Semester Regression Project
Universidade Estadual Dean De Cock Truman
Journal of Statistics Education Volume 19, Número 3 (2011), www.amstat.org/publications/jse/v19n3/decock.pdf
Copyright © 2011 por Dean De Cock todos os direitos reservados. Este texto pode ser livremente compartilhado entre indivíduos, mas não pode ser republicado em qualquer meio sem o consentimento expresso por escrito do autor e notificação prévia do editor.
Palavras-chave: Regressão Múltipla; Modelos lineares; Valor avaliado; Projeto de grupo.
Resumo
Este artigo apresenta um conjunto de dados que descreve a venda de propriedade residencial individual em Ames, Iowa de 2006 a 2010. O conjunto de dados contém 2.930 observações e um grande número de variáveis ​​explicativas (23 nominais, 23 ordinais, 14 discretas e 20 contínuas) envolvidas na avaliação dos valores domésticos. Discutirei meu uso anterior do Boston Housing Data Set e sugerirei métodos para incorporar esse novo conjunto de dados como um projeto final em um curso de regressão de graduação.
1. Introdução
Minha primeira exposição ao conjunto de dados de habitação de Boston (Harrison e Rubinfeld 1978) veio como aluno do primeiro ano de mestrado na Iowa State University. Sua análise foi a tarefa final na conclusão do segmento de regressão dentro de nossa classe de métodos estatísticos. A tarefa foi bastante aberta e terminou com uma breve descrição do conjunto de dados e a tarefa simples de encontrar um bom modelo para a previsão dos preços da habitação. Na época, o conjunto de dados parecia semelhante a outros que eu havia encontrado e sumiu da minha memória até sete anos depois, quando me descobri como um novo membro do corpo docente ensinando meu primeiro curso de regressão. Embora eu só tivesse começado minha carreira acadêmica recentemente, já havia estabelecido o desejo de incorporar alguns dos princípios que seriam oficialmente recomendados nas diretrizes do GAISE, como o uso de aprendizagem ativa, dados reais e trabalho em grupo. Em cada uma das minhas outras aulas de estatística, eu havia incorporado um projeto de grupo final que integrava os conceitos aprendidos ao longo do semestre e queria fazer o mesmo em meu curso de regressão.
1
Journal of Statistics Education, Volume 19, Número 3 (2011)
Para um projeto de regressão, eu estava procurando um conjunto de dados que permitisse aos alunos a oportunidade de mostrar as habilidades que aprenderam na classe. O conjunto de dados ideal precisava ter um número razoavelmente grande de variáveis ​​e observações para que os alunos precisassem ir além de um algoritmo simples, como seleção progressiva ou passo a passo, para construir um modelo final. Na época, me lembrei da atribuição do meu próprio passado e pesquisei na web para ver se conseguia encontrar o Conjunto de dados de habitação de Boston (http://lib.stat.cmu.edu/datasets/boston). Fiquei surpreso com o número de referências e usos do conjunto de dados dentro da comunidade acadêmica e concluí que suas 506 observações e 14 variáveis ​​serviriam bem aos meus propósitos. Ao longo dos anos, continuei a usar esse conjunto de dados, mas a cada ano que passa, fico mais insatisfeito com seu uso. O conjunto de dados original é da década de 70 e os preços da habitação tornaram-se irrealistas para o mercado de hoje. Eu tinha pensado em inflar os preços por algum valor definido ou fator de escala para obter valores mais contemporâneos, mas isso mudaria os dados de reais para realistas, o que não era minha preferência.
Como parte da minha licença sabática, um dos meus objetivos era encontrar um novo conjunto de dados que eu pudesse usar como meu projeto final. Embora aberto a novas áreas temáticas, minha esperança era encontrar um conjunto de dados de habitação mais recente, já que os alunos normalmente estão familiarizados com as variáveis ​​associadas à avaliação de casa. Comecei minha pesquisa vasculhando sites como DASL e JSE Data Archive e, embora tenha encontrado vários conjuntos de dados potenciais (por exemplo, Woodard e Leone 2008), os conjuntos de dados eram bastante limitados no número de observações (n <100). Uma visita casual à minha alma mater abriu as portas para o conjunto de dados apresentado neste artigo. Ao conversar com alguns membros do grupo Iowa State StatCom sobre seus projetos atuais, um aluno mencionou que o grupo estava atualizando o modelo de avaliação usado pelo Gabinete do Assessor da Cidade de Ames. Eles descreveram o grande número de variáveis ​​e observações dentro do conjunto de dados e eu imediatamente marquei uma reunião com o Gabinete do Assessor da Cidade para discutir o uso dos dados. Após uma breve reunião com o avaliador e o avaliador adjunto, descrevendo os dados e o processo de avaliação, tive acesso aos dados.
Os dados chegaram a mim diretamente do escritório do avaliador na forma de um despejo de dados de seu sistema de registros. O arquivo inicial do Excel continha 113 variáveis ​​que descreviam 3.970 vendas de propriedades ocorridas em Ames, Iowa entre 2006 e 2010. As variáveis ​​eram uma mistura de variáveis ​​nominais, ordinais, contínuas e discretas usadas no cálculo dos valores avaliados e incluíam medições de propriedades físicas em além de variáveis ​​de cálculo usadas no processo de avaliação da cidade. Para meus propósitos, um conjunto de dados "leigo" que pudesse ser facilmente compreendido por usuários em todos os níveis era desejável; então comecei meu projeto removendo quaisquer variáveis ​​que exigissem conhecimento especial ou cálculos anteriores para seu uso. A maioria dessas variáveis ​​excluídas estava relacionada a fatores de ponderação e ajuste usados ​​no sistema de modelagem atual da cidade.
2. Os dados da Ames Housing
Após a remoção dessas variáveis ​​estranhas, permaneceram 80 variáveis ​​que estavam diretamente relacionadas às vendas de propriedades. Embora muito vasto para descrever aqui individualmente (veja o arquivo de documentação http://www.amstat.org/publications/jse/v19n3/decock/DataDocumentation.txt), direi que as 80 variáveis ​​se concentram na qualidade e quantidade de muitos atributos físicos da propriedade. A maioria das variáveis ​​é exatamente o tipo de informação que um comprador residencial típico gostaria de saber sobre uma propriedade potencial (por exemplo, quando foi construída? Qual o tamanho do lote? Quantos quadrados
2
Journal of Statistics Education, Volume 19, Número 3 (2011)
pés de espaço vital está na habitação? O porão está terminado? Quantos banheiros existem?).
Em geral, as 20 variáveis ​​contínuas se relacionam com várias dimensões da área para cada observação. Além do tamanho típico do lote e da metragem quadrada total da residência encontrada nas listagens de residências mais comuns, outras variáveis ​​mais específicas são quantificadas no conjunto de dados. As medidas de área no porão, na área de estar principal e até nas varandas são divididas em categorias individuais com base na qualidade e tipo. O grande número de variáveis ​​contínuas neste conjunto de dados deve dar aos alunos muitas oportunidades de se diferenciarem, pois consideram vários métodos de uso e combinação das variáveis.
As 14 variáveis ​​discretas normalmente quantificam o número de itens que ocorrem dentro da casa.
A maioria concentra-se especificamente no número de cozinhas, quartos e banheiros (completos e meio) localizados no subsolo e nas áreas de estar acima do nível do solo (térreo) da casa. Adicionalmente, são registadas a capacidade da garagem e datas de construção / remodelação.
Há um grande número de variáveis ​​categóricas (23 nominais, 23 ordinais) associadas a esse conjunto de dados. Eles variam de 2 a 28 classes, sendo a menor STREET (cascalho ou pavimentada) e a maior sendo BAIRRO (áreas dentro dos limites da cidade de Ames). As variáveis ​​nominais normalmente identificam vários tipos de moradias, garagens, materiais e condições ambientais, enquanto as variáveis ​​ordinais normalmente classificam vários itens dentro da propriedade. A codificação nos dados originais normalmente utilizava um nome de oito caracteres que era relevante para a classificação, mas alguns dos níveis de classe originais eram difíceis de interpretar. Para facilidade de uso, muitos níveis de classe foram recodificados em formas um pouco mais utilizáveis ​​(consulte o arquivo de documentação http://www.amstat.org/publications/jse/v19n3/decock/DataDocumentation.txt).
       Dica útil: Dependendo do nível do aluno, os instrutores podem decidir quanto conselho / direção eles gostariam de dar aos alunos. Eles podem querer codificar variáveis ​​categóricas em variáveis ​​fictícias com antecedência ou podem dar dicas aos alunos sobre como combinar ou usar as variáveis ​​disponíveis. Para meus propósitos, forneço aos alunos os dados “como estão” e espero que eles determinem como os dados podem ser melhor utilizados.
Existem duas variáveis ​​(PID e NEIGHBORHOOD) que podem ser de interesse especial para os usuários do conjunto de dados. PID é o Número de Identificação da Parcela atribuído a cada propriedade dentro do sistema do Ames Assessor. Este número pode ser usado em conjunto com os sites do Assessor’s Office (http://www.cityofames.org/assessor/) ou Beacon (http://beacon.schneidercorp.com/) para visualizar diretamente os registros de uma observação específica. O registro típico indicará os valores para as características comumente citadas na maioria dos folhetos residenciais e incluirá uma foto da propriedade. A variável NEIGHBORHOOD, normalmente de pouco interesse além de modelar o efeito de localização, pode ser de mais relevância quando usada com o mapa
(http://www.amstat.org/publications/jse/v19n3/decock/AmesResidential.pdf) incluído nos materiais complementares.
Como nota final, o conjunto de dados original (n = 3970) continha todas as vendas que ocorreram dentro da Ames de 2006 a 2010, incluindo garagens independentes, condomínios e áreas de armazenamento. Como estes especiais
3
Journal of Statistics Education, Volume 19, Número 3 (2011)
as vendas criaram condições incomuns (observações sem espaço vital ou tamanho do lote). Optei por incluir apenas as vendas residenciais no conjunto de dados apresentado aqui. Além disso, aproximadamente 100 casas mudaram de proprietário várias vezes durante o período de 4 anos. Como isso deu um peso maior a essas casas em particular, optei por manter apenas os dados de vendas mais recentes de qualquer propriedade. A remoção das observações múltiplas e não residenciais resultou no conjunto de dados final contendo 2.930 observações. O conjunto de dados está disponível em:
http://www.amstat.org/publications/jse/v19n3/decock/AmesHousing.xls. Uma versão do arquivo de texto do conjunto de dados está disponível em:
http://www.amstat.org/publications/jse/v19n3/decock/AmesHousing.txt. O arquivo de documentação explicando os detalhes do conjunto de dados está disponível em:
http://www.amstat.org/publications/jse/v19n3/decock/DataDocumentation.txt).
       Armadilhas potenciais (outliers): Embora todos os erros conhecidos tenham sido corrigidos nos dados, nenhuma observação foi removida devido a valores incomuns e todas as vendas residenciais finais do conjunto de dados inicial estão incluídas nos dados apresentados neste artigo. Existem cinco observações que um instrutor pode desejar remover do conjunto de dados antes de dá-lo aos alunos (um gráfico de PREÇO DE VENDA versus GR LIVAREA indicará rapidamente esses pontos). Três deles são verdadeiros outliers (vendas parciais que provavelmente não representam os valores reais de mercado) e dois deles são simplesmente vendas incomuns (casas muito grandes com preços relativamente adequados). Eu recomendaria remover quaisquer casas com mais de 4000 pés quadrados do conjunto de dados (o que elimina essas cinco observações incomuns) antes de atribuí-lo aos alunos.
3. Usando os dados: Projeto de fim de semestre
O curso de regressão em minha instituição é um curso de um semestre com foco principalmente em métodos de regressão com algumas análises de séries temporais. O curso tem um pré-requisito introdutório à estatística (mas nenhum requisito de matriz ou cálculo) e é composto principalmente por graduados em negócios e psicologia. Embora o projeto possa ser atribuído a qualquer momento durante o semestre, prefiro distribuir as informações após os alunos terem coberto o material necessário para concluir o projeto (conceitos de regressão múltipla, validação de suposições e técnicas de seleção de modelo). Esse desejo cria um conflito no sentido de que devo cobrir todo o material relevante de maneira oportuna o suficiente para que os alunos concluam o projeto até o final do semestre. Para amenizar problemas, adio todo o material das séries temporais (distribuídas ao longo do nosso texto) até o final do semestre, pois esse material é desnecessário para a análise do projeto. Isso normalmente leva cerca de três semanas para os alunos concluírem todos os componentes do projeto.
O projeto original que dei aos meus alunos era muito semelhante ao dever de casa que recebi como aluno de pós-graduação, em que os alunos foram simplesmente solicitados a usar tudo o que aprenderam na aula para construir o melhor modelo possível. Ao longo dos anos tenho feito mudanças, principalmente devido às dificuldades que surgiram, que acredito terem melhorado tanto o projeto como a experiência dos alunos. A mais crítica dessas mudanças é que o projeto agora compreende três componentes distintos, cada um com sua própria data de vencimento. O primeiro componente, previsto para uma semana de projeto, exige que os alunos apresentem um modelo simplista (MODELO 1) que pode ser usado para prever o preço de venda de casas. Este componente é usado para verificar se os alunos compreenderam a tarefa e estão familiarizados com a metodologia de envio de seus modelos. O segundo componente, devido a dois
4
Journal of Statistics Education, Volume 19, Número 3 (2011)
semanas após o início do projeto, exige que os alunos apresentem um modelo mais complexo (MODELO 2) que represente seu melhor esforço em prever os preços das moradias. Este componente será aplicado a um conjunto de validação para determinar uma nota de “ajuste” que compreende 30% da nota do projeto. A componente final, a entregar no último dia de aula, é um relatório escrito que contém toda a análise, interpretação e informação dos dois modelos apresentados. O relatório escrito completa os 70% restantes da nota total do projeto.
O MODELO1 (o modelo simplista) é o foco do relatório escrito e sua análise visa mostrar o conhecimento que os alunos adquiriram no que diz respeito às técnicas adequadas de inferência estatística. Limito o tamanho e o tipo de modelo que pode ser usado para que os alunos possam focar sua atenção na interpretação do modelo (em vez de ficarem atolados na busca pelo “melhor” modelo). Uma análise sólida deve incluir a interpretação dos vários coeficientes, estatísticas e gráficos associados ao seu modelo e a verificação de quaisquer suposições necessárias.
        Dica útil: achei importante definir um limite inferior e um superior nos tipos de modelos que os alunos podem criar para o MODELO 1 (consulte a Figura 1 para obter um trecho de meu folheto). Aprendi com a experiência que, sem essas diretrizes, os alunos tendem a criar modelos muito complexos para interpretar e analisar ou muito simplistas para demonstrar totalmente as habilidades de modelagem que aprenderam na aula.
MODELO1 - No primeiro modelo, você tem permissão apenas para manipulações limitadas do conjunto de dados original. Você tem permissão para fazer transformações de poder das variáveis ​​originais [raízes quadradas, logs, inversos, quadrados, etc.], mas você NÃO tem permissão para criar variáveis ​​de interação. Isso significa que uma variável só pode ser usada uma vez em uma equação [se você usar x2, não use x]. Além disso, você pode eliminar quaisquer pontos de dados que julgar impróprios. Este modelo deve ter um r-quadrado mínimo de 73% e conter pelo menos 6 variáveis. A intenção deste projeto é que a maior parte do seu esforço seja dedicada à criação e revisão deste modelo.
Figura 1: Trecho do folheto do projeto (dados de Boston)
O MODELO2 (o modelo complexo) tem como objetivo permitir aos alunos a oportunidade de construir um modelo de melhor ajuste para prever os preços da habitação. Os alunos são encorajados a experimentar qualquer um dos métodos que foram discutidos durante o semestre para encontrar melhores modelos e podem criar quaisquer novas variáveis ​​que desejarem (como variáveis ​​quadráticas, de interação ou indicadoras). O MODELO2 é avaliado por meio de uma validação cruzada ou técnica de divisão de dados, em que o conjunto de dados original é dividido em dois conjuntos de dados: o conjunto de treinamento e o conjunto de validação. Os alunos recebem o conjunto de treinamento com a finalidade de desenvolver seu modelo e eu mantenho o conjunto de validação para uso na avaliação de seu modelo. Uma nota relativa é atribuída comparando seu ajuste no conjunto de validação com o de seus colegas alunos com pontos de bônus concedidos àqueles que excedem substancialmente seus colegas e reduções de pontos ocorrendo para modelos que se encaixam muito mal (ver seção 4 - Avaliação dos modelos para mais detalhes).
        Dica útil: embora no passado eu tenha dado aos alunos liberdade para criar o melhor modelo possível para o MODELO 2, no futuro pretendo definir um limite superior para o número de termos que um modelo pode conter. Com o Boston Housing Data Set, os alunos ocasionalmente enviariam modelos excessivamente grandes (até 27 variáveis, incluindo interação
5
Journal of Statistics Education, Volume 19, Número 3 (2011)
        termos e polinômios) e acredito que isso possa ser agravado com o novo conjunto de dados maior.
Embora não existam regras exatas para o tamanho dos conjuntos de dados de treinamento e validação (Neter, Kutner, Nachtsheim e Wasserman 1996), é prática comum dividir o conjunto de dados original em dois componentes iguais. Para meus propósitos, selecionei um conjunto de 100 casas para meu conjunto de validação de Boston (divisão 80/20) que me permitiu dados suficientes para avaliar seus modelos enquanto ainda fornecia aos alunos um grande conjunto de dados para trabalhar. Os dois conjuntos de dados podem ser facilmente criados randomizando os dados originais e selecionando a proporção relevante para cada componente com o único requisito real sendo que o número de observações no conjunto de treinamento seja de seis a dez vezes o número de variáveis ​​(daí o meu desejo de localizar um grande conjunto de dados).
        Dica útil (treinamento / validação): Eu escolhi usar a randomização para criar meus conjuntos de Boston, mas aqueles que desejam obter uma divisão mais consistente podem querer usar um esquema de amostragem sistemática. Simplesmente ordene o conjunto de dados original por uma variável de interesse (como preço de venda) e selecione cada observação k para atingir o tamanho de amostra desejado (k = 2 para uma divisão 50/50 ou k = 4 para uma divisão 75/25). Embora não seja necessário, optei por criar novos conjuntos de treinamento e validação a cada semestre para evitar que os alunos usassem diretamente relatórios de períodos anteriores para concluir seu projeto.
Achei muito importante exigir que os alunos testem seus modelos com um cálculo de mão única (consulte a Figura 2 para obter um trecho de meu folheto). Os alunos têm a tendência de aceitar cegamente qualquer modelo que saia de seu software e nunca lhes ocorre que devem verificar sua resposta. Embora os alunos achem redundante o cálculo manual do valor ajustado para um ponto de dados (eles acham que podem simplesmente copiar o valor ajustado da saída), isso geralmente exporá erros na construção do modelo. O erro mais comum que encontrei é que os alunos perdem o controle do que fizeram ao criar variáveis ​​complexas, como transformações e interações (ou seja, eles pensam que sua nova variável v13 é uma interação entre v1 e v3 quando na realidade é alguma outra combinação ou transformação).
Verificação do modelo - teste também sua equação na primeira observação no conjunto de dados para certificar-se de que o modelo fornece uma resposta razoável e inclua-a na última página de seu relatório. Isso deve ser feito À MÃO usando uma calculadora (isso significa usar os dados brutos da planilha original e calcular manualmente todas as transformações e interações com sua calculadora)! Os modelos que não derem respostas razoáveis ​​terão uma redução de nota mínima de 2 letras. Também tome cuidado, pois você não pode usar certas transformações [ln ou x inverso] se uma variável tiver valores 0.
Envio de amostra (por favor, não use o editor de equação)
Yhat = -27810.661 + 9322.460 (X1) - 4798.086 (SQRT (X5)) + 5119.678 (LnX10) - 110.087 (X1X10)
Yhat = -27810,661 + 9322,460 (6,575) - 4798,086 (2,32) + 5119,678 (0) - 110,087 (6,575 * 1) = 21629
Valor previsto = $ 21629
Valor real = $ 23999
O modelo parece razoável (erro = $ 2.370)
*** NOTA - é muito importante que você tenha pelo menos três algarismos significativos em cada um de seus coeficientes !!! Portanto, se você tiver um valor como 0,002X1, será necessário convertê-lo para 0,00195X1 ***
Figura 2: Trecho do folheto do projeto (dados de Boston)
6
Journal of Statistics Education, Volume 19, Número 3 (2011)
        Aplicação alternativa: Meu propósito na formação deste conjunto de dados foi criar um exemplo rico em que os alunos introdutórios pudessem se concentrar na modelagem ao invés da preparação de dados. Posso ver o valor em fornecer o conjunto de dados original para alunos mais avançados e permitir que eles tenham problemas com a limpeza de dados “brutos”. Como tal, estou disposto a compartilhar o conjunto de dados original, conforme recebido do Gabinete do Avaliador da Ames, com quaisquer partes interessadas.
4. Avaliando os Modelos - Discussão em Classe
Passei o último dia do semestre discutindo os modelos de alunos em sala de aula. Embora os alunos tendam a ficar menos entusiasmados com o novo material neste dia, descobri que eles estão muito interessados ​​em revisar o desempenho de seu modelo em relação aos outros da classe. Começo pedindo que um membro de cada grupo vá até o quadro e escreva seu modelo final. Embora eu peça a eles que tragam uma cópia, acho uma boa ideia imprimi-los eu mesmo antes da aula, pois sempre parece haver pelo menos um grupo que se esquece. Começamos nossa análise examinando os modelos e discutindo as tendências gerais. Normalmente, os modelos são muito semelhantes, mas alguns grupos terão feito coisas incomuns (transformações, interações, etc.) que podem ser dignas de atenção especial e discussão. Eu acredito que os alunos gostam de ver o que outros grupos fizeram, já que muitos dos grupos são um tanto “reservados” durante o processo de modelagem, pois estão tentando criar um modelo melhor do que seus colegas.
Seguindo a discussão qualitativa de seus modelos, faço a transição para a avaliação quantitativa do ajuste de seus modelos. Lembro aos alunos o conceito de conjunto de validação (mencionado no início do semestre) e, em seguida, falo sobre os quatro critérios principais que uso para avaliar seu modelo. Em cada medida, o preço real da casa (Y) de cada observação no conjunto de validação é comparado ao valor previsto (Yhat) obtido do seu modelo.
    • Bias - Average (Yhat-Y) - Este conceito é o mais fácil para os alunos entenderem, pois valores positivos indicam que o modelo tende a superestimar o preço (em média), enquanto valores negativos indicam que o modelo tende a subestimar o preço.
    • Desvio máximo - Max Y-Yha ^ - Os alunos também acham essa medida fácil de entender, pois identifica a pior previsão que eles fizeram no conjunto de dados de validação.
    • Desvio Médio Absoluto - Média Y-Yha ^ - Embora não seja tão intuitivo para os alunos, uma vez contrastado com o viés, os alunos entendem que é o erro médio (independentemente do sinal).
    • Erro quadrático médio - Média (Y-Yhat) - A medida menos intuitiva e menos significativa para os alunos. Eu apenas o incluo para que possa comparar seu cálculo com a metodologia usada para obter as estimativas dos coeficientes do conjunto de dados original (vinculando de volta à ideia de regressão por mínimos quadrados).
Eu apresento os resultados das quatro medidas quantitativas em forma gráfica (Figura 3) para que os alunos possam ver como eles se saíram em relação aos seus colegas. Normalmente, os modelos da maioria dos grupos irão
7
Journal of Statistics Education, Volume 19, Número 3 (2011)
realizam aproximadamente o mesmo com apenas alguns grupos definindo-se como sendo muito melhores ou piores do que seus colegas (como resultado de viés excelente do Grupo 11 ou viés fraco do Grupo 4 e 7, erro absoluto médio e erro quadrático médio no desempenho em 2007 dados).
Figura 3: Resumo gráfico das medidas para avaliar o ajuste do modelo (Primavera de 2007; Dados de Boston)
       Dica útil: geralmente crio minhas próprias versões do MODELO 1 e 2 a partir do conjunto de dados de treinamento para usar como benchmarks para medir o desempenho dos alunos. Eu me mantenho com os mesmos critérios que os alunos para construir esses modelos; com a restrição adicional de me permitir apenas um período de tempo muito curto para a sua construção. Meu desempenho (modelos D1 e D2) no conjunto de validação pode ser visto na Figura 3 e você notará que vários grupos me superaram em cada uma das categorias.
5. Ajustes para classes de nível inferior
Embora o conjunto de dados possa ser usado em sua forma atual para qualquer classe de estatística de nível, eu recomendaria várias alterações para facilitar seu uso com alunos de nível inferior. Meu principal critério para um bom conjunto de dados de projeto foi um grande número de variáveis ​​e observações, mas os alunos introdutórios podem ficar sobrecarregados com a quantidade de informações neste conjunto de dados. A primeira modificação que eu recomendaria é reduzir o número de observações no conjunto de dados. Minha preferência pessoal é criar um conjunto de dados que permitirá que histogramas e gráficos de pontos mostrem formas e tendências gerais e, ao mesmo tempo, tenham poucas observações suficientes para que pontos individuais ainda possam ser vistos em gráficos de dispersão. Embora isso dependa do gráfico ou atividade específica, cerca de 200 pontos de dados provavelmente serão suficientes. Embora uma amostra aleatória simples dos dados originais possa ser usada para desenhar o subconjunto de tamanho apropriado, farei algumas recomendações mais específicas.
8
Journal of Statistics Education, Volume 19, Número 3 (2011)
    • Elimine todas as vendas, exceto o “normal” da variável CONDIÇÃO DE VENDAS.
       A menos que um instrutor deseje especificamente criar uma atividade que investigue a diferença entre os vários tipos de vendas (execuções hipotecárias, novas casas, vendas para famílias, etc.), as diferentes condições servirão simplesmente para complicar os resultados e confundir os alunos.
    • Remova todas as casas com área de estar (GR LIVE AREA) acima de 1.500 pés quadrados. o
       objetivo da segunda etapa é aliviar problemas com variância não homogênea. Como era de se esperar, há uma variação crescente com o aumento do preço no mercado imobiliário de Ames. Este problema pode ser remediado tomando uma transformação (raiz quadrada) do preço de venda, mas aqueles que desejam manter a resposta em dólares podem simplesmente usar as casas menores, pois tendem a apresentar uma variação mais homogênea.
    • Selecione as observações desejadas.
       Embora o conjunto de dados pudesse ser reduzido ainda mais usando outras variáveis ​​(como usar apenas um andar ou eliminar casas sem porão), eu recomendaria desenhar uma amostra aleatória simples (ou sistemática) das vendas "normais" restantes para criar o resultado final conjunto de dados.
       Dica útil: embora programas de nível superior (como SAS e R) possam facilmente selecionar as observações apropriadas, os mesmos resultados podem ser obtidos no Excel simplesmente criando uma coluna de dígitos aleatórios adjacentes ao conjunto de dados existente (usando a função RAND ou Análise de Dados Tool) e classificando os dados por esta ou outras colunas. Após a classificação, a amostra de tamanho apropriado pode simplesmente ser cortada e colada dos dados originais para criar os conjuntos de dados reduzidos. (Observe que os usuários do Minitab acharão os comandos Calc-Make Patterned Data - Conjunto Simples de Números e Planilha de Subconjunto de Dados úteis para criar conjuntos de dados menores.)
Após reduzir o número de observações, o instrutor fica livre para usar quantas variáveis ​​quiser em suas atividades. A maioria das atividades introdutórias provavelmente irá se concentrar em simplesmente usar uma ou mais das variáveis ​​contínuas disponíveis. O modelo de regressão simples mais óbvio é prever o preço de venda com base no espaço vital acima do solo (GR LIVE AREA) ou na metragem quadrada total (TOTAL BSMTSF + GR LIVAREA). O modelo de metragem quadrada total (Figura 4) indica alguma curvatura possível que poderia levar a discussões de variáveis ​​quadráticas. Os instrutores que desejam evitar essa solução podem querer revisar o artigo de Pardoe (2008) que apresenta um método (não quadrático) usado no mercado imobiliário para lidar com relacionamentos não lineares.
9
Journal of Statistics Education, Volume 19, Número 3 (2011)
                                                  Gráfico de linha ajustada
                                           Preço de venda = 17107 + 60,35 TotSF
S 24321,3
R-Sq 54,8%
R-Sq (adj) 54,4%
1000 1500 2000 2500 3000
                                                         TotSF
 Figura 4: Gráfico de linha ajustada que prevê o preço de venda da metragem quadrada total (dados de Ames)
 Classes um pouco mais avançadas podem optar por discutir o tópico de regressão múltipla. Muitas das variáveis ​​contínuas no conjunto de dados estão linearmente relacionadas ao preço de venda da casa (seria de se esperar que o escritório do avaliador apenas coletasse informações relevantes) e existem inúmeras combinações que podem ser usadas em conjunto. Como exemplo de um modelo de regressão múltipla mais avançado (Figura 5), ​​incluí uma mistura de variáveis ​​categóricas contínuas, discretas e nominais. A variável nominal foi criada recodificando o número de lareiras em uma variável simulada Sim / Não (1/0) simples. Também incluí o gráfico 4 em 1 disponível no Minitab, que permite uma discussão fácil das suposições da regressão linear.
 Análise de regressão: SalePrice versus Lot Area, Total Bsmt SF, ...
A equação de regressão é
Preço de venda = 7851 + 1,72 Área do lote + 41,2 Bsmt total SF + 40,8 Área Gr Liv + 20952 Carros na garagem + 8379 FireYN
Coef Preditor SE Coef T P
Constante 7851 10018 0,78 0,435
Área do lote 1,7180 0,5306 3,24 0,002
BSmt total SF 41,188 5,795 7,11 0,000
Área Gr Liv 40.830 8.706 4.69 0.000
Carros Garagem 20952 2895 7,24 0,000
FireYN 8379 3861 2,17 0,032
S = 20109,8 R-Sq = 71,4% R- Sq (adj) = 70
 Figura 5: Saída do Minitab para modelo de regressão múltipla (dados de Ames)
10
Journal of Statistics Education, Volume 19, Número 3 (2011)
^ igura 6: Gráfico do Minitab (4 em 1) para verificação de suposição (dados de Ames)
Para instrutores que cobrem variáveis ​​nominais em sua classe, eu sugeriria incorporar a variável de vizinhança em seus modelos, convertendo-a em um conjunto de variáveis ​​fictícias (indicadores).
Descobri que os coeficientes para as variáveis ​​contínuas tendem a ter valores com interpretações mais realistas quando usados ​​em conjunto com a variável de vizinhança.
        Aplicação alternativa: como uma alternativa para permitir que os alunos criem modelos complicados a partir de um grande número de variáveis, pode-se desafiá-los a tentar obter o máximo de informações de modelos ou gráficos muito simples. O lote simples na Figura 7 usa apenas a área total de uma casa (área do subsolo + área do primeiro e segundo andar) e o tipo de venda, mas resume grande parte da variação no preço de venda. Pode-se ver que as casas maiores custam mais com um bônus sendo pago para vendas “parciais” (novas casas apenas parcialmente concluídas na última avaliação) e um desconto sendo pago para vendas “anormais” (vendas a descoberto e execuções hipotecárias).
11
Journal of Statistics Education, Volume 19, Número 3 (2011)
Preço de venda vs área total (porão e acima do nível)
7000004
Oferta
Doença
• Abnürnnl ■ AdjLand ^ Alloca A Família Normal ^ Parcial
0 -
*
*
0
1000 2000 3000 4000 5000 6000
                          Sq Ft
Figura 7: Gráfico de dispersão do preço de venda versus área residencial total por condição de venda (dados de Ames)
6. Questões para classes de nível superior
Embora as variáveis ​​e a codificação dentro do conjunto de dados sejam relativamente simples e compreensíveis, várias variáveis ​​podem apresentar desafios para os alunos que tentam incorporá-las em seu modelo. Como um grupo, as 23 variáveis ​​ordinais apresentam dificuldades especiais. Quase todas essas variáveis ​​estão relacionadas à qualidade, com a expectativa de que categorias superiores devam produzir um coeficiente igual ou superior à categoria anterior. Em alguns dos meus modelos iniciais, descobri que os coeficientes estimados para várias dessas categorias não seguiam essa regra, provavelmente devido a inter-relações com outras variáveis ​​dentro do modelo. Embora não seja incorreta, essa situação leva a interpretações confusas (qualidade inferior é melhor?) Para os alunos. Descobri que algumas dessas anomalias poderiam ser corrigidas colapsando algumas das escalas maiores de qualidade de cinco e dez pontos em menos categorias.
       Dica útil: se seus alunos forem executar um Modelo Linear Geral (em vez de regressão), você pode considerar a revisão de alguns dos códigos nominais e ordinais. Alguns programas (por exemplo, R ou SAS) permitem que você designe um grupo de linha de base para uma variável, mas outros programas como MINITAB e SPSS assumem que a última categoria (alfabeticamente) será a base para a estimativa dos coeficientes. Manipular os nomes para que o grupo mais comum ou mais baixo seja a linha de base ajuda os alunos a interpretar como os vários níveis da variável afetam o preço. Sempre que possível, tentei definir códigos variáveis ​​para que isso ocorresse (portanto, minha alteração de "Média" para "Típica / Média" permite que "T" seja o último em ordem alfabética), mas em alguns casos, nenhuma codificação razoável poderia ser
12
Journal of Statistics Education, Volume 19, Número 3 (2011)
        encontrado. Uma solução rápida é adicionar um “z” ao início do nome do grupo que você deseja que seja a base.
Intimamente relacionadas a este problema estão as 14 variáveis ​​discretas que normalmente quantificam vários tipos de quartos ou itens dentro de uma casa. Quando tratados categoricamente, muitos desses itens exibem a mesma inconsistência que as variáveis ​​ordinais (um quarto banheiro na verdade diminui o valor de uma casa?). Potencialmente, essas inconsistências podem ser aliviadas tratando as variáveis ​​como covariáveis ​​que resultam em aumentos iguais por item (descobri que funcionou bem com o número de banheiros) ou mais uma vez reduzindo o número de categorias (que funcionou bem com o número de carros por garagem) .
Alguns instrutores podem optar por remediar essas dificuldades antes de fornecer o conjunto de dados a seus alunos (usando minhas alterações sugeridas), mas outros podem ver isso como uma oportunidade de discutir essas anomalias com seus alunos. Essas situações podem levar a uma rica discussão em sala de aula relacionada à coleta de dados, escolha de tipos de variáveis ​​e as suposições que acompanham essas escolhas.
7. Conclusão
Embora eu ainda não tenha usado o conjunto de dados Ames em minha aula de regressão (usarei em minha próxima rotação de ensino), estou confiante de que substituí-lo pelos dados de Boston atenderá bem às minhas necessidades. O número substancial de observações e variáveis ​​de fácil compreensão oferecem aos alunos muitas oportunidades de exibir as habilidades que aprenderam durante o semestre. Embora eu não tenha discutido nenhum modelo específico para o grande conjunto de dados, seria negligente se não admitisse ter passado um bom tempo brincando com os dados. Para dar aos leitores uma referência, descobri que cerca de 80% da variação no preço de venda de residências pode ser explicada simplesmente levando em consideração o bairro e a metragem quadrada total (TOTAL BSMT SF + ÁREA GR LIV) da residência. No outro extremo, construí um modelo com 36 variáveis ​​(algumas de minha própria criação por meio de recodificação e interações), todas significativas no nível 0,05, o que explica 92% da variação nas vendas. Embora eu considerasse este modelo excessivamente complicado, ele produziu coeficientes intuitivamente atraentes em que atributos positivos (como estar perto de um parque) adicionados ao valor da casa e atributos negativos (como ser adjacente a uma ferrovia) subtraídos do valor. Decidi não compartilhar os detalhes desses modelos aqui (para frustrar meus alunos mais motivados), mas gostaria de compartilhar meus resultados com quaisquer instrutores interessados.
Eu acredito que o conjunto de dados tem potencial ilimitado para incorporação em uma classe estatística de nível inferior. Além das estatísticas descritivas óbvias, correlações e modelos de regressão simples, a diversidade de variáveis ​​oferece oportunidades para demonstrar quase todos os gráficos, tabelas e tabulações cruzadas normalmente cobertos em uma aula introdutória. Minha esperança ao compartilhar esse conjunto de dados é que os instrutores encontrem muitas maneiras inovadoras de incorporá-lo em suas aulas.
13
Journal of Statistics Education, Volume 19, Número 3 (2011)
Reconhecimentos
Gostaria de agradecer à Truman State University por conceder-me licença sabática no ano acadêmico, permitindo-me dedicar-me a esta e outras atividades. Gostaria de agradecer ao escritório do assessor da cidade de Ames por sua disposição em compartilhar esses dados e por seu tempo e esforço em responder às minhas perguntas enquanto eu finalizava este conjunto de dados. Além disso, gostaria de agradecer ao grupo de alunos StatCom da Universidade Estadual de Iowa por primeiro me apresentar a existência dessa fonte de dados.
Referências
Beacon (2011). GIS do governo local para a web. Recuperado em 24 de março de 2011 em http://beacon.schneidercorp.com/
Cidade de Ames Iowa (2002). Página inicial do Ames City Assessor. Recuperado em 24 de março de 2011 em http://www.cityofames.org/assessor/
Carnegie Mellon University (2011). StatLib - Arquivo de conjuntos de dados. Recuperado em 21 de abril de 2011 em http://lib.stat.cmu.edu/datasets/boston
Dielman, T.E. (2005). Análise de regressão aplicada. Quarta edição, Belmont, CA: Brooks / Cole.
GAISE, (2005). Relatório da faculdade Diretrizes para Avaliação e Instrução em Educação Estatística (GAISE). Recuperado em 24 de março de 2011 da American Statistical Association (ASA): http://www.amstat.org/education/gaise/GAISECollege.htm.
Harrison, D. e Rubinfeld, D. L. (1978). “Hedonic Housing Price and the Demand for Clean Air,” Journal of Environmental Economics and Management, 5, 81-102.
Neter, J., Kutner, M., Nachtsheim, C. e Wasserman, W. (1996). Modelos estatísticos lineares aplicados. Quarta edição, Chicago, IL: Irwine.
Pardoe, I. (2008). “Modeling home prices using corretor data”, Journal of Statistics Education, Volume 16, Número 2. http://www.amstat.org/publications/! se / v 16n2 / datasets.pardoe.html
Woodard, R. e Leone, J. (2008). “Uma amostra aleatória de lotes de imóveis residenciais em Wake County, Carolina do Norte”, Journal of Statistics Education, Volume 16, Número 3 (2008). http://www.amstat.org/publications/jse/v16n3/datasets.woodard.html
Dean De Cock
Truman State University
100 E. Normal St., Kirksville, MO, 63501
mailto: decock@truman.edu
660-785-7367 (o)
660-785-4251 (f)
14
Journal of Statistics Education, Volume 19, Número 3 (2011)
Volume 19 (2011) | Arquivo | Índice | Arquivo de dados | Recursos Conselho Editorial | Diretrizes para autores | Diretrizes para contribuidores de dados | Diretrizes para leitores / usuários de dados | Página inicial |
                                         Entre em contato com a JSE | Publicações ASA
15